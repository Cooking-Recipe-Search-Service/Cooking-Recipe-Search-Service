name: Ð¡I

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
#  build-java:
#
#    runs-on: ubuntu-latest
#
#    steps:
#      - uses: actions/checkout@v2
#      - name: Set up JDK 17
#        uses: actions/setup-java@v2
#        with:
#          java-version: '17'
#          distribution: 'adopt'
#          cache: maven
#      - name: Build with Maven
#        run: mvn -B package --file server/pom.xml
#
#  build-angular:
#    runs-on: ubuntu-latest
#    strategy:
#      matrix:
#        node-version: [ 12.x ]
#    steps:
#      - uses: actions/checkout@v1
#
#      - name: Cache node modules
#        uses: actions/cache@v1
#        with:
#          path: ~/.npm
#          key: ${{ runner.os }}-node-${{ hashFiles('**/client/package-lock.json') }}
#          restore-keys: |
#            ${{ runner.os }}-node-
#
#      - name: Node ${{ matrix.node-version }}
#        uses: actions/setup-node@v1
#        with:
#          node-version: ${{ matrix.node-version }}
#
#      - name: npm ci and npm run build
#        run: |
#          npm --prefix client/ ci
#          npm --prefix client/ run build
#          npm --prefix client/ run lint

  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: LuisEnMarroquin/setup-ssh-action@v2.0.0
        with:
          ORIGIN: ${{ secrets.SSH_HOST }}
          SSHKEY: ${{ secrets.SSH_PRIVATE_KEY }}
          NAME: production
          PORT: 22
          USER: ${{ secrets.SSH_USER }}
      - run: ssh production > 3.txt

